<!doctype html>
  <html lang="de">
    <head>
      <title>Shared Worker with Central State Management // Christian Noss</title>
      <meta name="robots" content="noindex">
    <meta name="googlebot" content="noindex">
    <meta name="googlebot-news" content="noindex">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

      <link rel="stylesheet" href="/slides/reveal/dist/reset.css">
      <link rel="stylesheet" href="/slides/reveal/dist/reveal.css">
      <link rel="stylesheet" href="/slides/assets/main.css">
     
      <link rel="icon" type="image/svg" href="/slides/assets/images/preview_black_24dp.svg">
  
      <!-- Theme used for syntax highlighted code -->
      <link rel="stylesheet" href="/slides/reveal/plugin/highlight/github.css">
    </head>
    <body>
      <div class="reveal">
        <div class="slides">
          
      <section data-slide-class="intro" class="mi-slide 
      intro " data-background-color="#9313ce"   data-transition="zoom">
      <div class="is-full-width">
<h1>Multi-Window Experiences</h1>
<h2>with p5.js</h2>
</div>

      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="convex">
      <section data-slide-shortcode-class="interlude" data-background-color="#00ad2f" class="image screenshot interlude" data-transition="{"transition":"none"}"><div><h1 class="title"><del>Checkin?</del> 😢</h1></div></section>
<section data-slide-shortcode-class="question" class="question "><div><h1 class="title"><p>💪 😵‍💫 😖 💪 💪 🏃‍♂️ 😖 🌀 🏃 💪</p>
</h1><h2 class="subtitle js-delay">Mein Weg zu diesem Workshop</h2></div></section>
<section data-slide-shortcode-class="question" class="question "><div><h1 class="title"><p>Was meint <em>Multi-Window</em> Experiences?</p>
</h1></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/01-cover-bjorn-stall.jpg" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p><a href="https://80.lv/articles/a-programmer-presents-a-mind-blowing-multi-window-adaptive-experience">Beispiel von Björn Staal</a><br><a href="https://github.com/bgstaal/multipleWindow3dScene">GitHub Repo</a><br><a href="https://bgstaal.github.io/multipleWindow3dScene/">Demo</a><br><a href="https://www.youtube.com/watch?v=4LwHH3r2qNY">Video</a></p>
</p></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Ziele des Workshops</h1>- Wie können Daten zwischen Fenstern ausgetauscht werden?
- Wie lassen sich diese Ansätze mit p5.js sinnvoll verbinden?
- Was lässt sich gestalterisch damit machen? 🧐
- bissl Spaß haben 👻
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Wie kommen wir dahin?</h1><div class="fragment is-unbalanced"><em>Zielbild:</em> Wo geht die Reise hin?</div>
<div class="fragment is-unbalanced"><em>Szenarien:</em> Kleiner konzeptioneller Unterbau</div>
<div class="fragment is-unbalanced"><em>Sharing Data:</em> Verschiedene Ansätze zum Austausch von Daten zwischen Fenstern. <strong>mit Übung</strong></div>
<div class="fragment is-unbalanced"><em>Working with p5.js:</em> Kleiner Rundflug über p5.js</div>  
<div class="fragment is-unbalanced"><em>Code-Code-Code:</em> Aufgaben zum selber coden 🎊</div>
<div class="fragment is-unbalanced"><em>Rückblick/ Ausblick:</em> Was war – was geht?</div>
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Material</h1>- [Dokumentation](https://cnoss.github.io/multi-window-experiences/)
- [Repo](https://github.com/cnoss/multi-window-experiences)
- [Slidedeck](https://cnoss.github.io/slides/presentations/misc/multi-window-with-p5/)
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Disclaimer ⚠️</h1><div class="fragment">Wir werden die meisten Konzepte & Techniken nur sehr oberflächlich behandeln.</div>
<div class="fragment">Der Code ist teils leider recht umfassend und unübersichtlich.</div>
<div class="fragment">Für p5.js wird uns Repertoire fehlen. 😢</div>
<div class="fragment">Babylonisches Sprachgewirr 😱</div>
<div class="fragment">Die meisten Konzepte & Techniken hab ich noch nie in der Hand gehabt oder gar ernsthaft genutzt. 🧐</div>
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Disclaimer, Teil 2 ‼️</h1><div class="fragment">Es wurden keine Performance Messungen vorgenommen.</div>
<div class="fragment">Wir befassen uns nur mit <strong>zwei</strong> Fenstern.</div>
<div class="fragment">Insgesamt ist sehr wenig getestet worden, insbesondere wurden kaum Cross-Browser Tests gemacht.</div>
<div class="fragment">Nicht alle sinnvollen Ansätze werden in einem Sketch(?) zusammen gebracht, z.B. Physics & Multi-Window</div>
<div class="fragment">Alle Implementierungen versuchen möglichst nah an Standards zu sein.</div>
</div></section>
<section data-slide-shortcode-class="question" class="question "><div><h1 class="title"><p>Wohin geht es?</p>
</h1><h2 class="subtitle js-delay"><a href="https://cnoss.github.io/multi-window-experiences/02-single-window-simple-object-example/index.html">Single Window, Simple Object</a> // <a href="https://cnoss.github.io/multi-window-experiences/03-single-window-complex-object-example/index.html">Single Window, Complex Object</a> // <a href="https://cnoss.github.io/multi-window-experiences/04-multi-window-simple-object-example/index.html">Multi-Window, Simple Object</a> // <a href="https://cnoss.github.io/multi-window-experiences/05-multi-window-complex-object-example/index.html">Multi-Window, Complex Object</a> // <a href="https://cnoss.github.io/multi-window-experiences/06-rotating-circles-example/index.html">Rotating Circles</a> // <a href="https://cnoss.github.io/multi-window-experiences/07-handoff-example/index.html">Casting</a>
</h2></div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="slide">
      <section data-slide-shortcode-class="question" class="question "><div><h1 class="title"><p>Welche <em>Multi-Window</em>-Cases könnten betrachtet werden?</p>
</h1></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-1.png" data-transition="fade-in" data-background-transition="fade"><div class="bu"><p><p>Position on Screen</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2.png" data-transition="fade-in" data-background-transition="fade"><div class="bu"><p><p>Multiple Windows</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2a.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Distance</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2b.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Angle</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2c.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Right or left</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2d.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Intersection</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2e.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Overlap &amp; Casting</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-screen.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Multi Screen</p>
</p></div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="slide">
      <section data-slide-shortcode-class="question" class="question "><div><h1 class="title"><p>Woher kommen die <em>Daten</em><br>und wie können wir sie <em>austauschen</em>?</p>
</h1></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/get-position.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Position on screen via <a href="https://developer.mozilla.org/de/docs/Web/API/Window/screenX">window.screenX</a> &amp; <a href="https://developer.mozilla.org/de/docs/Web/API/Window/screenY">window.screenY</a></p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/opener.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Share Data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/opener">window.opener</a></p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/broadcast-channel.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Share via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API">Broadcast Channel API</a></p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/local-storage.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Store shared data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage</a></p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/shared-worker.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Use of a higher-level <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker">Shared Worker</a></p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/web-socket.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Using an external component: <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket">WebSocket</a></p>
</p></div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="interlude" data-background-color="#9313ce" class="image screenshot interlude" ><div><h1 class="title">Observe Window Position</h1><h2 class="subtitle js-delay"><p>No event listener is available 😢</p>
</h2></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/get-position.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Position on screen via <a href="https://developer.mozilla.org/de/docs/Web/API/Window/screenX">window.screenX</a> &amp; <a href="https://developer.mozilla.org/de/docs/Web/API/Window/screenY">window.screenY</a></p>
</p></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Step 1: Detect Window Position</h1><p>.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Window position:&#x27;</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>);
</samp></pre></div></section>
<p><section data-transition="fade" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Step 2: Observe Window Position</h1><p>.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">const</span> myWindowPosition = {
  <span class="hljs-attr">x</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">y</span>: <span class="hljs-literal">false</span>
}
<span class='hljs-break'>/* break */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">trackMyWindowPosition</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">if</span> (myWindowPosition.<span class="hljs-property">x</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span> 
    &amp;&amp; myWindowPosition.<span class="hljs-property">y</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>) <span class="hljs-keyword">return</span>;
  <span class='hljs-break'>/* break */</span>
  myWindowPosition.<span class="hljs-property">x</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span>;
  myWindowPosition.<span class="hljs-property">y</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>;
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-comment">// Do something meaningful with the data 🕺🏼</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myWindowPosition.<span class="hljs-property">x</span>, myWindowPosition.<span class="hljs-property">y</span>);
}
<span class='hljs-break'>/* break */</span>
<span class="hljs-title function_">trackMyWindowPosition</span>();
<span class="hljs-keyword">const</span> observeMyWindowPosition = <span class="hljs-built_in">setInterval</span>(trackMyWindowPosition, <span class="hljs-number">500</span>);
</samp></pre></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/get-position.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Position on screen via <a href="https://developer.mozilla.org/de/docs/Web/API/Window/screenX">window.screenX</a> &amp; <a href="https://developer.mozilla.org/de/docs/Web/API/Window/screenY">window.screenY</a></p>
</p></div></section>
<footer><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/screenX">Window: screenX property MDN</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/screenY">Window: screenY property MDN</a></li>
<li><a href="https://cnoss.github.io/multi-window-experiences/00-core-concepts/index.html">Demo Implementation</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="interlude" data-background-color="#d16" class="image screenshot interlude" ><div><h1 class="title">Share Data via window.opener</h1><h2 class="subtitle js-delay"><p>Baseline Widely available</p>
</h2></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/opener.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Share Data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/opener">window.opener</a></p>
</p></div></section>
<p><section data-transition="fade" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Using window.opener</h1><p>Baseline Widely available</p></p>
<div class="code-columns"><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// In opener/parent window</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-keyword">const</span> childWindowPosition = {
  <span class="hljs-attr">x</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">y</span>: <span class="hljs-literal">false</span>
}
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Open child window</span>
childWindow = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(url, <span class="hljs-string">&#x27;child-window&#x27;</span>);
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Read window position from child</span>
<span class="hljs-keyword">if</span> (childWindowPosition.<span class="hljs-property">x</span> === childWindow.<span class="hljs-property">screenX</span> 
  &amp;&amp; childWindowPosition.<span class="hljs-property">y</span> === childWindow.<span class="hljs-property">screenY</span>) <span class="hljs-keyword">return</span>;
  <span class='hljs-break'>/* break */</span>
childWindowPosition.<span class="hljs-property">x</span> = childWindow.<span class="hljs-property">screenX</span>;
childWindowPosition.<span class="hljs-property">y</span> = childWindow.<span class="hljs-property">screenY</span>;
</samp></pre><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// In opened/child window</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-keyword">const</span> parentWindowPosition = {
  <span class="hljs-attr">x</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">y</span>: <span class="hljs-literal">false</span>
}
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Read window position from parent</span>
<span class="hljs-keyword">if</span> (parentWindowPosition.<span class="hljs-property">x</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-property">screenX</span> 
  &amp;&amp; parentWindowPosition.<span class="hljs-property">y</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-property">screenY</span>) <span class="hljs-keyword">return</span>;
  <span class='hljs-break'>/* break */</span>
parentWindowPosition.<span class="hljs-property">x</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-property">screenX</span>;
parentWindowPosition.<span class="hljs-property">y</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-property">screenY</span>;
</samp></pre></div></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Advantages of window.opener 🥳</h1>- direct reference to the parent window
- easy to call functions or access variables
- minimal setup, no external messaging needed
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Disadvantages 😢</h1>- only works if the window was opened via window.open()
- breaks on reloads or navigation
- no support for cross-tab communication
- tight coupling between windows
</div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/opener.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Share Data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/opener">window.opener</a></p>
</p></div></section><footer><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/opener">Window: opener property MDN</a></li>
<li><a href="https://cnoss.github.io/multi-window-experiences/00-core-concepts/window-opener-demo/parent.html">Demo Implementation</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="interlude" data-background-color="#9313ce" class="image screenshot interlude" ><div><h1 class="title">Share Data via Broadcast Channel API & window.postMessage</h1><h2 class="subtitle js-delay"><p>Publish–Subscribe Messaging</p>
</h2></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/broadcast-channel.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Share Data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API">Broadcast Channel API</a> &amp; <a href="https://developer.mozilla.org/en-us/docs/Web/API/Window/postMessage">window.postMessage</a></p>
</p></div></section>
<p><section data-transition="fade" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Using Broadcast Channel API</h1><p>The window.postMessage() method safely enables cross-origin communication between Window objects; e.g., between a page and a pop-up that it spawned, or between a page and an iframe embedded within it.</p></p>
<div class="code-columns"><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// In (first) window</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Open Broadcast Channel</span>
<span class="hljs-keyword">const</span> windowPositionChannel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-string">&#x27;window-position&#x27;</span>);
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">/* some lines of funky code */</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Send my window position to the channel</span>
windowPositionChannel.<span class="hljs-title function_">postMessage</span>(myWindowPosition);
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Receive messages from the channel</span>
windowPositionChannel.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> otherWindowPosition = event.<span class="hljs-property">data</span>;
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-comment">// Do something meaningful with the data 🕺🏼</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(otherWindowPosition.<span class="hljs-property">x</span>, otherWindowPosition.<span class="hljs-property">y</span>);
}
</samp></pre><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// In (second) window</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Open Broadcast Channel</span>
<span class="hljs-keyword">const</span> windowPositionChannel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-string">&#x27;window-position&#x27;</span>);
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">/* some lines of funky code */</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Send my window position to the channel</span>
windowPositionChannel.<span class="hljs-title function_">postMessage</span>(myWindowPosition);
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Receive messages from the channel</span>
windowPositionChannel.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> otherWindowPosition = event.<span class="hljs-property">data</span>;
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-comment">// Do something meaningful with the data 🕺🏼</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(otherWindowPosition.<span class="hljs-property">x</span>, otherWindowPosition.<span class="hljs-property">y</span>);
}
</samp></pre></div></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Broadcast Channel API & window.postMessage()</h1>The window.postMessage() method safely enables cross-origin communication between Window objects; e.g., between a page and a pop-up that it spawned, or between a page and an iframe embedded within it. The Broadcast Channel API is restricted on same origin communication.
<p>If a participant (tab, window, worker) sends a message via BroadcastChannel.postMessage(), it is sent to all other participants in the channel - but not to the sender itself.</p>
<p>⚠️ Note that window.postMessage() also works without the Broadcast Channel API.</p>
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Advantages 🥳</h1>- combines broadcasting and direct messaging
- works well for decoupled, event-based communication
- no shared memory needed — everything flows through messages
- no direct window references needed
- scalable to multiple tabs and controlled windows
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Disadvantages 😢</h1>- requires same-origin (for BroadcastChannel)
- no built-in state — messages must be actively passed around
- no message history — late listeners miss earlier messages
</div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/broadcast-channel.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Share Data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API">Broadcast Channel API</a> &amp; <a href="https://developer.mozilla.org/en-us/docs/Web/API/Window/postMessage">window.postMessage</a></p>
</p></div></section>
<footer><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API">Broadcast Channel API MDN</a></li>
<li><a href="https://developer.mozilla.org/en-us/docs/Web/API/Window/postMessage">window.postMessage MDN</a></li>
<li><a href="https://cnoss.github.io/multi-window-experiences/00-core-concepts/post-message-demo/index.html">Demo Implementation</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="interlude" data-background-color="#2b2b2b" class="image screenshot interlude" ><div><h1 class="title">Store shared data via LocalStorage</h1><h2 class="subtitle js-delay"><p>Storage Event Triggering Paradigm</p>
</h2></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/local-storage.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Store shared data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage</a></p>
</p></div></section>
<p><section data-transition="fade" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Store shared data via LocalStorage</h1><p>LocalStorage allows browser windows of the same origin to persistently store and share string-based key–value pairs. The storage event lets other open windows react to changes in real time, making it useful for simple cross-window communication.</p></p>
<div class="code-columns"><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// Write changes to local storage</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">trackMyWindowPosition</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-keyword">if</span> (myWindowPosition.<span class="hljs-property">x</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span> 
    &amp;&amp; myWindowPosition.<span class="hljs-property">y</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>) <span class="hljs-keyword">return</span>;
  <span class='hljs-break'>/* break */</span>
  myWindowPosition.<span class="hljs-property">x</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span>;
  myWindowPosition.<span class="hljs-property">y</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>;
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-comment">// Store Window Data in Local Storage</span>
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;windowPosition&#x27;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(myWindowPosition));
}
</samp></pre><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// Listen to changes in local storage</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;storage&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-keyword">if</span>(!event.<span class="hljs-property">key</span> === <span class="hljs-string">&#x27;windowPosition&#x27;</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">const</span> otherWindowPosition = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">newValue</span>);
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-comment">// Do something meaningful with the data 🕺🏼</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(otherWindowPosition.<span class="hljs-property">x</span>, otherWindowPosition.<span class="hljs-property">y</span>);
});
</samp></pre></div></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Advantages 🥳</h1>- simple key–value storage, persistent across reloads
- built-in storage event allows reactive cross-tab communication
- no direct window references needed
- easy to implement and debug
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Disadvantages 😢</h1>- string-only storage (no complex data types without serialization)
- storage events don’t fire in the same window 🧐
- not designed for high-frequency updates or large data volumes
</div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/local-storage.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Store shared data via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage</a></p>
</p></div></section>
<footer><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local Storage MDN</a></li>
<li><a href="https://cnoss.github.io/multi-window-experiences/00-core-concepts/local-storage-demo/index.html">Demo Implementation</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="interlude" data-background-color="#2b2b2b" class="image screenshot interlude" ><div><h1 class="title">Use of a higher-level Shared Worker</h1><h2 class="subtitle js-delay"><p>Shared Process with Message-Based Communication</p>
</h2></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/shared-worker.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Use of a higher-level <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker">Shared Worker</a></p>
</p></div></section>
<p><section data-transition="fade" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Shared Worker with postMessage()</h1><p>This creates a new connection to an existing or newly started SharedWorker whose code is located in the shared.js file. In contrast to workers, which start a separate thread per window or tab, a SharedWorker is only started once per Origin - all tabs share the same worker process.</p></p>
<div class="code-columns"><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// Shared Worker Code in shared.js</span>
<span class='hljs-break'>/* break */</span>
<span class="hljs-keyword">const</span> connections = [];
<span class='hljs-break'>/* break */</span>
onconnect = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">const</span> port = e.<span class="hljs-property">ports</span>[<span class="hljs-number">0</span>];
  connections.<span class="hljs-title function_">push</span>(port);
  <span class='hljs-break'>/* break */</span>
  port.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">const</span> data = event.<span class="hljs-property">data</span>;
    <span class='hljs-break'>/* break */</span>
    <span class="hljs-comment">// Echo to all other windows</span>
    connections.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (p !== port) {
        p.<span class="hljs-title function_">postMessage</span>(data);
      }
    });
  };
  <span class='hljs-break'>/* break */</span>
  port.<span class="hljs-title function_">start</span>(); <span class="hljs-comment">// Required for older browsers</span>
};
</samp></pre><pre class="code-wrapper"><samp class="code"><span class="hljs-comment">// Client Code</span>
<span class="hljs-comment">// Start or connect to worker</span>
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedWorker</span>(<span class="hljs-string">&#x27;shared.js&#x27;</span>);
worker.<span class="hljs-property">port</span>.<span class="hljs-title function_">start</span>();
<span class='hljs-break'>/* break */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">trackMyWindowPosition</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-comment">/* ... */</span>
  <span class="hljs-comment">// Store Window Data in Shared Worker</span>
  worker.<span class="hljs-property">port</span>.<span class="hljs-title function_">postMessage</span>(myWindowPosition);
}
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Observe my window position</span>
<span class="hljs-keyword">const</span> observeMyWindowPosition = <span class="hljs-built_in">setInterval</span>(trackMyWindowPosition, <span class="hljs-number">500</span>);
<span class='hljs-break'>/* break */</span>
<span class="hljs-comment">// Receive messages from the worker</span>
worker.<span class="hljs-property">port</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-keyword">const</span> otherWindowPosition = event.<span class="hljs-property">data</span>;
  <span class='hljs-break'>/* break */</span>
  <span class="hljs-comment">// Do something meaningful with the data 🕺🏼</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(otherWindowPosition.<span class="hljs-property">x</span>, otherWindowPosition.<span class="hljs-property">y</span>);
};
</samp></pre></div></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Advantages 🥳</h1>- one central background process shared by all windows
- ideal for coordinating state across multiple tabs
- allows custom logic, shared memory, and message routing  
- fully decouples windows — no references required
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Disadvantages 😢</h1>- requires custom implementation of state & communication
- slightly more complex setup (ports, onconnect, message handling)
- same-origin only
- not available in some contexts (e.g. Incognito mode in Chrome) 
</div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/shared-worker.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>Use of a higher-level <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker">Shared Worker</a></p>
</p></div></section>
<footer><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker">Shared Worker MDN</a></li>
<li><a href="https://cnoss.github.io/multi-window-experiences/00-core-concepts/shared-worker-demo/index.html">Demo Implementation</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="zoom">
      <section data-slide-shortcode-class="interlude" data-background-color="#9313ce" class="image screenshot interlude" data-transition="{"transition":"slide"}"><div><h1 class="title">Endlich Aufgaben 🎊</h1></div></section>
<section  class="statement"><div><h1 class="title">Repo erklären! 🧐</h1><div class="fragment"><a href="https://github.com/cnoss/multi-window-experiences">https://github.com/cnoss/multi-window-experiences</a>
</div></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"none"}">
    <div><h1 class="title">Endlich Aufgaben 🎊</h1><mark>01. Share Data between Windows:</mark> You are given a starter file with a code skeleton. Your job is to implement a working communication channel that allows each window to display: its own position (based on window.screenX / screenY) and the position of the other window.
<mark>30min</mark>
<p><a href="https://cnoss.github.io/multi-window-experiences/99-assignments/">Let's go 👨🏽‍💻</a></p>
</div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="simple-text" class="simple " >
    <div><h1 class="title">Shared Worker with Central State Management</h1>This [SharedWorker](https://cnoss.github.io/multi-window-experiences/00-core-concepts/shared-worker-with-central-state-management-demo/index.html) script manages real-time communication between multiple browser windows by tracking and sharing their screen positions. 
<p>Each connected window can send its current position, retrieve its own stored position, or request the positions of all other connected windows.</p>
</div></section>
<footer><ul>
<li><a href="https://cnoss.github.io/multi-window-experiences/">Workshop Page</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="convex">
      <section data-slide-shortcode-class="interlude" data-background-color="#2b2b2b" class="image screenshot interlude" data-transition="{"transition":"none"}"><div><h1 class="title">Working with p5.js</h1></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"none"}">
    <div><h1 class="title">About p5.js</h1>p5.js is an open-source JavaScript library that brings the core principles of creative coding to the web. It was initiated in 2013 by Lauren McCarthy, an artist and programmer, as a browser-based reinterpretation of Processing, the influential visual programming environment developed by Casey Reas and Ben Fry at the MIT Media Lab.
</div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="convex">
      <p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Core Structure of a Sketch</h1><p>The tools uses a simple sketch structure based on two main functions: setup(), which runs once at the beginning, and draw(), which runs continuously like a loop. To get started, you can write your code in the <a href="https://editor.p5js.org">p5.js Web Editor</a>.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
}
<span class='hljs-break'>/* break */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">220</span>);
  <span class="hljs-title function_">ellipse</span>(mouseX, mouseY, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);
}
</samp></pre></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Useful Snippets: ColorMode</h1><p>colorMode() in p5.js sets how colors are interpreted. Using <a href="https://color.adobe.com/de/create/color-wheel">HSB</a> (Hue, Saturation, Brightness) is often better because it separates color, intensity, and lightness, making color control more intuitive.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
  <span class="hljs-title function_">colorMode</span>(<span class="hljs-variable constant_">HSB</span>, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">fill</span>(<span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">270</span>, <span class="hljs-number">100</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">strokeWeight</span>(<span class="hljs-number">10</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">ellipse</span>(mouseX, mouseY, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);
}
</samp></pre></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Useful Snippets: random() &amp; randomSeed()</h1><p>random() in p5.js returns a random number, useful for adding unpredictability. randomSeed() sets the starting point for random values, making results repeatable — helpful for debugging or creating consistent outcomes.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
  <span class="hljs-title function_">colorMode</span>(<span class="hljs-variable constant_">HSB</span>, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">fill</span>(<span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">270</span>, <span class="hljs-number">100</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">strokeWeight</span>(<span class="hljs-number">10</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);

  <span class="hljs-keyword">const</span> dotSize = <span class="hljs-title function_">random</span>(-<span class="hljs-number">20</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">ellipse</span>(mouseX, mouseY, dotSize);
}
</samp></pre></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Useful Snippets: map()</h1><p>map() in p5.js converts a number from one range to another. It's useful for scaling values, like turning mouse position into color or speed.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
  <span class="hljs-title function_">colorMode</span>(<span class="hljs-variable constant_">HSB</span>, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">fill</span>(<span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
  <span class="hljs-keyword">const</span> hue = <span class="hljs-title function_">map</span>(mouseX, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>);
  <span class="hljs-keyword">const</span> dotSize = <span class="hljs-title function_">map</span>(mouseY, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>);
  <span class="hljs-title function_">fill</span>(hue, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">ellipse</span>(mouseX, mouseY, dotSize);
}
</samp></pre></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Useful Snippets: dist()</h1><p>dist() in p5.js calculates the distance between two points. It's useful for measuring how far apart objects are, often used in movement or collision detection.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
  <span class="hljs-title function_">colorMode</span>(<span class="hljs-variable constant_">HSB</span>, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">fill</span>(<span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
  <span class="hljs-keyword">const</span> dotSize = <span class="hljs-title function_">dist</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, mouseX, mouseY);
  <span class="hljs-title function_">ellipse</span>(width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>, dotSize);
}
</samp></pre></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Brain-Freeze: translate() &amp; rotate()</h1><p>translate() in p5.js moves the origin of the drawing space, letting you draw shapes in a new position. rotate() turns the drawing space, useful for rotating shapes around a point.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
  <span class="hljs-title function_">colorMode</span>(<span class="hljs-variable constant_">HSB</span>, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">fill</span>(<span class="hljs-number">335</span>, <span class="hljs-number">92</span>, <span class="hljs-number">87</span>, <span class="hljs-number">100</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">translate</span>(width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>);
  <span class="hljs-title function_">rotate</span>(<span class="hljs-number">45</span>);
  <span class="hljs-title function_">rect</span>(-<span class="hljs-number">30</span>, -<span class="hljs-number">30</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
}
</samp></pre></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Useful Snippets: Simple Animation</h1><p>This code creates a rotating rectangle in the center of the canvas. The translate() function moves the origin to the center, and rotate(angle) spins the rectangle around that point. angle increases over time, causing continuous rotation, while the semi-transparent background creates a fading trail effect.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);
  <span class="hljs-title function_">colorMode</span>(<span class="hljs-variable constant_">HSB</span>, <span class="hljs-number">360</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-title function_">fill</span>(<span class="hljs-number">335</span>, <span class="hljs-number">92</span>, <span class="hljs-number">87</span>, <span class="hljs-number">100</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);

  <span class="hljs-title function_">translate</span>(width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>);
  <span class="hljs-title function_">rotate</span>(angle);
  <span class="hljs-title function_">rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);

  angle += <span class="hljs-number">0.08</span>;
}
</samp></pre></div></section>
<footer><ul>
<li><a href="https://p5js.org">P5.js</a></li>
<li><a href="https://p5js.org/reference/">Reference</a></li>
<li><a href="https://editor.p5js.org/">Web Editor</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="wrap" class="mi-slide 
      wrap "    data-transition="slide">
      <section data-slide-shortcode-class="interlude" data-background-color="#d16" class="image screenshot interlude" ><div><h1 class="title">Time to assemble.</h1><h2 class="subtitle js-delay"><p>Share Window Data Concepts &amp; p5.js</p>
</h2></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/translate-canvas-1.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>In order to create a link between the sketch and the screen, we move and scale the canvas to the size of the screen.</p>
</p></div></section>
<section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/translate-canvas-2.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p>In order to create a link between the sketch and the screen, we move and scale the canvas to the size of the screen.</p>
</p></div></section>
<p><section data-transition="slide" data-slide-shortcode-class="codeSmall" class="codeSmall"><div><h1 class="title">Fit Canvas to Screen Size</h1><p>This code adjusts the canvas based on the browser window’s position on the screen, allowing the sketch to stay aligned with the physical screen space.</p></p>
<pre class="code-wrapper"><samp class="code"><span class="hljs-keyword">let</span> posX, posY;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">background</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>);

  <span class="hljs-keyword">if</span> (drawingParams.<span class="hljs-property">context</span> === <span class="hljs-string">&#x27;screen&#x27;</span>) {
    <span class="hljs-comment">// Move the origin of the canvas to the top left corner of the screen</span>
    <span class="hljs-keyword">const</span> originX = -<span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span>;
    <span class="hljs-keyword">const</span> originY = -<span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>;
    canvas.<span class="hljs-property">width</span> = screen.<span class="hljs-property">width</span>;
    canvas.<span class="hljs-property">height</span> = screen.<span class="hljs-property">height</span>;
    <span class="hljs-title function_">translate</span>(originX, originY);
    posX = width / <span class="hljs-number">2</span>;
    posY = height / <span class="hljs-number">2</span>;

  }<span class="hljs-keyword">else</span>{
    posX = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-number">2</span>;
    posY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> / <span class="hljs-number">2</span>;
  }

  <span class="hljs-title function_">ellipse</span>(posX, posY, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);
}
</samp></pre></div></section>
<footer><ul>
<li><a href="https://cnoss.github.io/multi-window-experiences/">Workshop Page</a></li>
</ul>
</footer>
      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="zoom">
      <section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"none"}">
    <div><h1 class="title">Multi Window Sketch Assignments 😎</h1><mark>02. Draw Line between Windows:</mark> Extend the p5 sketch so that a line is drawn from your own center to the other window’s center. <mark>15min</mark>
<p><mark>03. Dual-Window Visualization Experiment</mark> Turn a given starter sketch into an interactive or generative visual system that lives across two windows. <mark>30min</mark></p>
<p><a href="https://cnoss.github.io/multi-window-experiences/99-assignments/">Let's go 👨🏽‍💻</a></p>
</div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="slide">
      <section data-slide-shortcode-class="screenshot" class="image is-fullscreen no-shadow" data-background="./images/multi-window-2e.png" data-transition="fade" data-background-transition="fade"><div class="bu"><p><p><a href="https://bgstaal.github.io/multipleWindow3dScene/">Overlap &amp; Casting</a></p>
</p></div></section>
<section data-slide-shortcode-class="question" class="question "><div><h1 class="title"><p>How could the <em>transfer</em> of an element from one window to another be realized?</p>
</h1></div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"none"}">
    <div><h1 class="title">Casting /Hand-off Assignment</h1><mark>04.  Visual Handoff Between Windows:</mark> You're given a starter sketch with a simple visual and a working SharedWorker; extend it so that when two windows visibly overlap on screen, the visual automatically moves to the other window. <mark>30min</mark>
<p><a href="https://cnoss.github.io/multi-window-experiences/99-assignments/">Let's go 👨🏽‍💻</a></p>
</div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="images" class="mi-slide 
      images "    data-transition="slide">
      <section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Final Thoughts</h1>There are <mark>many technical ways</mark> to exchange data between browser windows — from direct messaging with postMessage to reactive broadcasting with BroadcastChannel, or even shared background logic via SharedWorker. 
<p>Most approaches ultimately rely on sending messages back and forth, but <mark>the real challenge</mark> lies in crafting a <mark>meaningful design concept</mark> around that connection.</p>
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div>In the end, your architecture is just the foundation.
<mark>What you build on top is what matters most.</mark>
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div>By the way, designer and coder <mark>Björn Staal</mark> works with the <mark>localStorage-based approach</mark> — showing that even the simplest mechanisms can lead to compelling, interactive experiences if paired with a strong idea.
</div></section>
<section data-slide-shortcode-class="simple-text" class="simple " data-transition="{"transition":"slide"}">
    <div><h1 class="title">Physics??? 🧐</h1></div></section>

      
      
      
      
      </section>
    

      <section data-slide-class="outro" class="mi-slide 
      outro " data-background-color="#231f20"   data-transition="convex">
      <div class="is-fullscreen is-centered"><p></p>
<div class="outro">
<figure class="outro-avatar">
<img src="../../../assets/images/cnoss.jpeg">
<figcaption>
<p>Danke für's Mitmachen</p>
<p class="small"><a href="https://christiannoss.de">https://christiannoss.de</a></p>
</figcaption>
</figure>
</div>
</div>
      
      
      
      
      </section>
    

      <section data-slide-class="intro" class="mi-slide 
      intro " data-background-color="#9313ce"   data-transition="zoom">
      
      
      
      
      
      </section>
      
        </div>

      </div>
      
      <script src="/slides/reveal/dist/reveal.js"></script>
      <script src="/slides/assets/scripts/libs/fittext.js"></script>
      <script src="/slides/assets/scripts/main.js"></script>
      <script src="/slides/reveal/plugin/notes/notes.js"></script>
      <script src="/slides/reveal/plugin/markdown/markdown.js"></script>
      <script src="/slides/reveal/plugin/highlight/highlight.js"></script>
      <script src="/slides/reveal/plugin/zoom/zoom.js"></script>
      <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
          hash: true, 
          center: false,
          disableLayout: true,
          progress: true,
          backgroundTransition: 'fade',
          highlight: {
            highlightOnLoad: false,
          },
          // Learn about plugins: https://revealjs.com/plugins/
          plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom]
        }).then(() => {
          const highlight = Reveal.getPlugin('highlight');
          highlight.hljs.configure(
            {
              languages: ['javascript', 'css', 'html', 'bash', 'json', 'markdown', 'xml', 'yaml'],
            }
          );
          highlight.hljs.highlightAll();
        });

        
      </script>
    </body>
  </html>